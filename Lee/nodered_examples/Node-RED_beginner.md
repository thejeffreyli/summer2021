### Overview

* Node-RED inherits general functionality from FBP tools, which is Flow-Based-Programming.
* exchanges data across pre-defined connections by message passing, where the connections are specified externally to the processes.
* can continue executing and functioning, as long as there is data to work on and destination for the output.
* generally runs in less elapsed time than conventional programs, and make optimal use of many processors on a machine, with no special programming required to achieve this. 

![image](https://user-images.githubusercontent.com/56851781/128030672-8a387152-234a-4775-b2d3-dee2f92ddad0.png)
![image](https://user-images.githubusercontent.com/56851781/128030729-adc73010-77bb-439a-84be-01d8f40a9643.png)

* There are several main space of Node-RED: Palette (Searching nodes), Workspace, and Sidebar. 
1) You can find basic nodes on Palette. The palette contains all of the nodes that are installed and available to use. You have to install the specific package such as Slack nodes through Node-RED menu -> “Manage Pallete” -> “Install” -> slack nodes (for example).
2) The main workspace is where flows are developed by dragging nodes from the palette and wiring them together. The workspace has a row of tabs along the top; one for each flow and any subflows that have been opened.
3) The sidebar contains panels that provide a number of useful tools within the editor.
    Information - view information about nodes and their help
    Debug - view messages passed to Debug nodes
    Configuration Nodes - manage configuration nodes
    Context data - view the contents of context
    Also, some nodes contribute their own sidebar panels, such as node-red-dashboard.
    
## 6 core Nodes: inject, debug, function, change, switch, and template.
* Each Node offers different functionality, which can range from a simple debug node to be able to see what's going on in your flow.

1. Inject Node literally, is to manual trigger, which is input.
2. On the other hands, debug, is output. This node can be used to display messages.payload from the flow by default.
3. Change node can be used to modify a message’s properties and set context properties without having to resort to a Function node. (relatively limited in what it can do and is not designed to loop or make complex logical decisions. Alternative: Function node)

![image](https://user-images.githubusercontent.com/56851781/122111337-9e32ba80-cded-11eb-986b-3ea16065b181.png)

4. Function node allows JavaScript code to be run against the messages that are passed through it.

![image](https://user-images.githubusercontent.com/56851781/122111629-f669bc80-cded-11eb-8c0d-853dc4104993.png)

5. Switch node allows messages to be routed to different branches of a flow by evaluating a set of rules against each message.
6. Template node can be used to generate text using a message’s properties to fill out a template.

## Code import/export

- Flows can be imported and exported from the editor using their JSON format, making it very easy to share flows with others.
 
![image](https://user-images.githubusercontent.com/56851781/128033491-830d312b-e774-4904-9cb6-9f5556c02478.png)


- Inject-Debug node example flows

```
[{"id":"83e21f0c.51fe8","type":"inject","z":"82f46bd8.467668","name":"inject (timestamp)","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":147,"y":155,"wires":[["ded689fa.e85558","fbc74ccf.c5f4c"]]},{"id":"ded689fa.e85558","type":"debug","z":"82f46bd8.467668","name":"String_payload (default)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":607,"y":155,"wires":[]},{"id":"e9076cc8.0205","type":"comment","z":"82f46bd8.467668","name":"Inject-Debug node","info":"Inject Node:\n- The Inject node can be used to manual trigger a flow by clicking the node’s button within the editor.\n- It can also be used to automatically trigger flows at regular intervals.\n- The message sent by the Inject node can have its payload and topic properties set.\n- The payload can be set to a variety of different types:\n    a flow or global context property value\n    a String, number, boolean, Buffer or Object\n\nDebug Node:\n- The Debug node can be used to display messages in the Debug sidebar within the editor.\n- The sidebar provides a structured view of the messages it is sent, making it easier to explore the message.\n- Alongside each message, the debug sidebar includes information about the time the message was received and which Debug node sent it. Clicking on the source node id will reveal that node within the workspace.\n- The button on the node can be used to enable or disable its output. It is recommended to disable or remove any Debug nodes that are not being used.\n- The node can also be configured to send all messages to the runtime log, or to send short (32 characters) to the status text under the debug node.\n\n- Reference\nhttps://nodered.org/docs/user-guide/nodes","x":127,"y":115,"wires":[]},{"id":"fbc74ccf.c5f4c","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":597,"y":204,"wires":[]},{"id":"287e4fab.096af","type":"comment","z":"82f46bd8.467668","name":"msg.payload : string","info":"","x":906,"y":158,"wires":[]},{"id":"4e9cbb5a.bd9c64","type":"comment","z":"82f46bd8.467668","name":"msg.payload : object","info":"","x":907,"y":204,"wires":[]}]
```

- Change node example flows

```
[{"id":"3da44e09.157f22","type":"inject","z":"82f46bd8.467668","name":"inject (Hello World)","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Hello World","payloadType":"str","x":158,"y":341,"wires":[["36e9d5c4.f52dda","f94b8144.954de"]]},{"id":"f55a88b8.aa3ea8","type":"debug","z":"82f46bd8.467668","name":"String_payload (default) through change node","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":678,"y":400,"wires":[]},{"id":"f16d1273.35f3f","type":"comment","z":"82f46bd8.467668","name":"Change node","info":"Change Node:\n- The Change node can be used to modify a message’s properties and set context properties without having to resort to a Function node.\n- Each node can be configured with multiple operations that are applied in order. The available operations are:\n\n    Set - set a property. The value can be a variety of different types, or can be taken from an existing message or context property.\n    Change - search and replace parts of a message property.\n    Move - move or rename a property.\n    Delete - delete a property.\n\n- When setting a property, the value can also be the result of a JSONata expression. JSONata is a declarative query and transformation language for JSON data.\n\n- Refernece\nhttps://nodered.org/docs/user-guide/nodes#change","x":108,"y":301,"wires":[]},{"id":"36e9d5c4.f52dda","type":"change","z":"82f46bd8.467668","name":"change payload","rules":[{"t":"change","p":"payload","pt":"msg","from":"World","fromt":"str","to":"Node-RED","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":373,"y":400,"wires":[["f55a88b8.aa3ea8"]]},{"id":"f94b8144.954de","type":"debug","z":"82f46bd8.467668","name":"String_payload (default)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":608,"y":340,"wires":[]}]
```


- Variation: http node + csv node + switch node + change node example flows

```
[{"id":"e36406f2.8ef798","type":"inject","z":"82f46bd8.467668","name":"inject","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"","payloadType":"str","x":109,"y":568,"wires":[["c3c50023.3bbed"]]},{"id":"c3c50023.3bbed","type":"http request","z":"82f46bd8.467668","name":"Recent Quakes","method":"GET","paytoqs":"ignore","url":"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.csv","tls":"","persist":false,"proxy":"","authType":"","x":279,"y":568,"wires":[["8afc6cac.e0812"]]},{"id":"8afc6cac.e0812","type":"csv","z":"82f46bd8.467668","name":"csv","sep":",","hdrin":true,"hdrout":"","multi":"one","ret":"\\n","temp":"","skip":0,"strings":true,"include_empty_strings":false,"include_null_values":false,"x":453,"y":568,"wires":[["44779781.4190f8","6f0eb546.9e208c"]]},{"id":"44779781.4190f8","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":800,"y":568,"wires":[]},{"id":"6f0eb546.9e208c","type":"switch","z":"82f46bd8.467668","name":"switch the value","property":"payload.mag","propertyType":"msg","rules":[{"t":"gte","v":"5","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":547,"y":628,"wires":[["d78d4aa8.8c8208"]]},{"id":"d78d4aa8.8c8208","type":"change","z":"82f46bd8.467668","name":"change msg","rules":[{"t":"set","p":"payload","pt":"msg","to":"Danger!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":665,"y":689,"wires":[["72fddece.fac0d"]]},{"id":"72fddece.fac0d","type":"debug","z":"82f46bd8.467668","name":"String_payload (default)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":810,"y":628,"wires":[]},{"id":"f7405676.6a1e38","type":"comment","z":"82f46bd8.467668","name":"Variation: http node + csv node + switch node + change node","info":"Switch node:\n- The Switch node allows messages to be routed to different branches of a flow by evaluating a set of rules against each message.\n- The name \"switch\" comes from the \"switch statement\" that is common to many programming languages. It is not a reference to a physical switch\n- The node is configured with the property to test - which can be either a message property or a context property.\n- There are four types of rule:\n    Value rules are evaluated against the configured property\n    Sequence rules can be used on message sequences, such as those generated by the Split node\n    A JSONata Expression can be provided that will be evaluated against the whole message and will match if the expression returns a true value.\n    An Otherwise rule can be used to match if none of the preceding rules have matched.\n- The node will route a message to all outputs corresponding to matching rules. But it can also be configured to stop evaluating rules when it finds one that matches.\n\nHttp node:\n- It sends HTTP requests and returns the response.\n- At least one inject node/debug node are required.\n\n- Reference\nhttps://nodered.org/docs/user-guide/nodes","x":259,"y":528,"wires":[]}]
```


- Variation: split node + change node + switch node example flows

```
[{"id":"d193c5c2.296848","type":"split","z":"82f46bd8.467668","name":"","splt":",","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":329,"y":930,"wires":[["4248bbe2.589704","3b0fab6c.79f274"]]},{"id":"624297b1.7e7958","type":"inject","z":"82f46bd8.467668","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":true,"onceDelay":"","topic":"","payload":"15.4,50,23.8,79","payloadType":"str","x":139,"y":930,"wires":[["7a59ebd3.21ad74","d193c5c2.296848"]]},{"id":"d0c71ac6.5b5b68","type":"debug","z":"82f46bd8.467668","name":"out 1","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":849,"y":870,"wires":[]},{"id":"4248bbe2.589704","type":"change","z":"82f46bd8.467668","name":"to number","rules":[{"t":"set","p":"payload","pt":"msg","to":"$number(msg.payload)\t","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":499,"y":930,"wires":[["5db41d9f.1a37b4","331d50e5.6344a"]]},{"id":"5db41d9f.1a37b4","type":"switch","z":"82f46bd8.467668","name":"route","property":"parts.index","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"2","vt":"str"},{"t":"eq","v":"3","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":669,"y":930,"wires":[["d0c71ac6.5b5b68"],["d07bd59f.3e7c38"],["1ac0492f.04cfa7"],["1c7471ae.829c0e"]]},{"id":"d07bd59f.3e7c38","type":"debug","z":"82f46bd8.467668","name":"out 2","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":849,"y":910,"wires":[]},{"id":"1ac0492f.04cfa7","type":"debug","z":"82f46bd8.467668","name":"out 3","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":849,"y":950,"wires":[]},{"id":"1c7471ae.829c0e","type":"debug","z":"82f46bd8.467668","name":"out 4","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":849,"y":990,"wires":[]},{"id":"fe9e8df0.56cdc","type":"comment","z":"82f46bd8.467668","name":"split","info":"Split comma separated string into separated messages.\nValue placed to msg.payload\nValue type will be still string.\n\nThere will be 4 messages out of this split node\n\nFor each msg also given a property \"parts\". \nIt will be used later on.","x":329,"y":870,"wires":[]},{"id":"679b270b.7bb908","type":"comment","z":"82f46bd8.467668","name":"convert","info":"Convert the value of msg.payload to the number using JSONata expression.\n","x":509,"y":870,"wires":[]},{"id":"f48c86db.1e34e8","type":"comment","z":"82f46bd8.467668","name":"route","info":"Route every message to differet output by using switch node.\nAs property \"parts\" has been given to each message, we can use its \n\"index\" property to find out proper output\n\n","x":669,"y":870,"wires":[]},{"id":"7a59ebd3.21ad74","type":"debug","z":"82f46bd8.467668","name":"source data","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","statusVal":"","statusType":"auto","x":329,"y":1090,"wires":[]},{"id":"3b0fab6c.79f274","type":"debug","z":"82f46bd8.467668","name":"spltted","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","statusVal":"","statusType":"auto","x":449,"y":1050,"wires":[]},{"id":"331d50e5.6344a","type":"debug","z":"82f46bd8.467668","name":"converted","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":579,"y":1010,"wires":[]},{"id":"675206df.1aa098","type":"comment","z":"82f46bd8.467668","name":"Variation: split node + change node + switch node","info":"Split node:\n- The split node can be used to split the message into one message per line.\n- It can be followed by the nodes needed to operate on the individual lines of text, followed by a Join node to recombine them back into a single block of text.\n\n- Reference\nhttps://cookbook.nodered.org/basic/split-text","x":219,"y":830,"wires":[]}]
```


- Function node example flows 1

```
[{"id":"a2255a15.e10ee8","type":"inject","z":"82f46bd8.467668","name":"inject (Hello World)","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Hello World","payloadType":"str","x":149,"y":1270,"wires":[["c0e20dda.5816a"]]},{"id":"7f024519.91e59c","type":"debug","z":"82f46bd8.467668","name":"String_payload (default)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":596,"y":1270,"wires":[]},{"id":"bab030cf.73d26","type":"comment","z":"82f46bd8.467668","name":"Function node","info":"Function node:\n- The Function node allows JavaScript code to be run against the messages that are passed through it.\n- The message is passed in as an object called msg. By convention it will have a msg.payload property containing the body of the message.\n- Other nodes may attach their own properties to the message, and they should be described in their documentation.\n\n- Reference\nhttps://nodered.org/docs/user-guide/nodes#function","x":99,"y":1230,"wires":[]},{"id":"c0e20dda.5816a","type":"function","z":"82f46bd8.467668","name":"","func":"var newString = msg.payload.replace(\"World\",\"Node-RED\")\nreturn { payload : newString };\n\n// - Refenrece\n// https://nodered.org/docs/user-guide/writing-functions","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":359,"y":1270,"wires":[["7f024519.91e59c"]]}]
```


- Function node example flows 2

```
[{"id":"58ffae9d.a7005","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":576,"y":1494,"wires":[]},{"id":"17626462.e89d9c","type":"inject","z":"82f46bd8.467668","name":"inject (timestamp)","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"","payloadType":"date","x":134,"y":1437,"wires":[["2921667d.d6de9a","36f12856.431a08"]]},{"id":"2921667d.d6de9a","type":"function","z":"82f46bd8.467668","name":"Date(msg.payload) ","func":"// Create a Date object from the payload\nvar date = new Date(msg.payload);\n// Change the payload to be a formatted Date string\nmsg.payload = date.toString();\n// Return the message so it can be sent on\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":346,"y":1494,"wires":[["58ffae9d.a7005"]]},{"id":"a10dfb07.bf53b8","type":"comment","z":"82f46bd8.467668","name":"Function node 2","info":"","x":108,"y":1398,"wires":[]},{"id":"36f12856.431a08","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":574,"y":1437,"wires":[]}]
```


- Variation: http node + function node example flows

```
[{"id":"78397f95.49945","type":"inject","z":"82f46bd8.467668","name":"inject (trigger http request)","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"str","x":163,"y":1653,"wires":[["24f0635e.244afc"]]},{"id":"24f0635e.244afc","type":"http request","z":"82f46bd8.467668","name":"","method":"GET","ret":"obj","paytoqs":"body","url":"http://ipinfo.io","tls":"","persist":false,"proxy":"","authType":"","x":379,"y":1653,"wires":[["fc467855.bb21c8"]]},{"id":"fc467855.bb21c8","type":"function","z":"82f46bd8.467668","name":"","func":"var msg2 = {};\nmsg2.cidade = msg.payload.city;\nmsg2.pais = msg.payload.country;\nreturn [msg,msg2];","outputs":2,"noerr":0,"initialize":"","finalize":"","libs":[],"x":592.0000610351562,"y":1743,"wires":[["f26dc46f.e80388"],["9434dba3.28e278"]]},{"id":"b92c0ac3.7bcf48","type":"comment","z":"82f46bd8.467668","name":"Variation: http node + function node","info":"","x":169,"y":1614,"wires":[]},{"id":"9434dba3.28e278","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":774,"y":1775,"wires":[]},{"id":"abb43ed4.62e86","type":"comment","z":"82f46bd8.467668","name":"msg.payload : object (query)","info":"It returns cidade, pais, and msgid.","x":1050,"y":1776,"wires":[]},{"id":"2deb7549.6aab6a","type":"comment","z":"82f46bd8.467668","name":"msg.payload : object","info":"It returns _msgid, payload, topic, statusCode, headers, responseUrl, redirectList.","x":1021,"y":1715,"wires":[]},{"id":"f26dc46f.e80388","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":775,"y":1713,"wires":[]}]
```


## sub-flow

- All from the one source, want to change all in the Subflows-Selection to Subflow

![image](https://user-images.githubusercontent.com/56851781/122114092-e43d4d80-cdf0-11eb-8431-b25f25301a56.png)


## context, flow and global

- 3 different levels to set/modify persistent variables with the range of their access is referred to as variable scope.

![image](https://user-images.githubusercontent.com/56851781/122116772-01bfe680-cdf4-11eb-8083-0b03d3bb09bf.png)

- to fix "undefined", can increase the scope of count by going into the function and changing 'context' to 'flow'

![image](https://user-images.githubusercontent.com/56851781/122117136-814db580-cdf4-11eb-94d0-4e2194dc3631.png)

- while these global variables are universally accessible, some applications may be better off using a link node to share data between flows. (cause link nodes not only share variables but also trigger different flows across projects in a sequences predictable way.) 

![image](https://user-images.githubusercontent.com/56851781/122117817-52840f00-cdf5-11eb-8888-89f795e5fbcc.png)
![image](https://user-images.githubusercontent.com/56851781/122118684-4d738f80-cdf6-11eb-9094-d3952a2e88ea.png)


## Node-RED Dashboard

- To install the stable version use the Menu - Manage palette option and search for node-red-dashboard, or run the following command in your Node-RED user directory - typically `~/.node-red`:

```
npm i node-red-dashboard
```

![image](https://user-images.githubusercontent.com/56851781/128056645-13389dc6-9ebe-4332-bf8c-61b2f87d0972.png)

#### Form and Text nodes

- Restcountries API are used to get countries dataset from https://restcountries.eu/rest/v2. It includes the countries name, their languages, population, and capital and so on. But the goal this experiment is that when a user enters the capital, country name pops up, which is filtered data by using its API service. In the http request node, when the url is attched, debug(msg.payload) and country (format) will show the output. It is not a case sensitive.

![image](https://user-images.githubusercontent.com/56851781/128057498-c7a8784f-e21b-4386-8960-654c8ab9d9f9.png)

![image](https://user-images.githubusercontent.com/56851781/128057622-ac7ece62-6531-4a28-8b52-39a78a5b2946.png)

- HTTP rest endpoint node example flows

```
[{"id":"db9e7c6a.4b89f","type":"comment","z":"82f46bd8.467668","name":"HTTP rest endpoint","info":"- This example shows how http node works, and Node-RED UI display the simple output by using: https://restcountries.eu/.\n- API ENDPOINTS: Below are described the REST endpoints available that you can use to search for countries\n- ALL: https://restcountries.eu/rest/v2/all\n- NAME (Search by country name): It can be the native name or partial name: https://restcountries.eu/rest/v2/name/Japan\n- CAPITAL CITY (Search by capital city): https://restcountries.eu/rest/v2/capital/tallinn\n","x":110,"y":2440,"wires":[]},{"id":"5078d948.5ccca8","type":"inject","z":"82f46bd8.467668","name":"inject (topic)","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"seoul","payload":"","payloadType":"date","x":113,"y":2489,"wires":[["5b92ffa1.8cabd"]]},{"id":"5b92ffa1.8cabd","type":"http request","z":"82f46bd8.467668","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"https://restcountries.eu/rest/v2/capital/{{{payload.capital}}}","tls":"","persist":false,"proxy":"","authType":"","x":350,"y":2489,"wires":[["c633e15a.b8222"]]},{"id":"c633e15a.b8222","type":"json","z":"82f46bd8.467668","name":"","property":"payload","action":"","pretty":false,"x":557,"y":2489,"wires":[["862a7ce1.89a2d","309e0077.b7a8e"]]},{"id":"862a7ce1.89a2d","type":"ui_text","z":"82f46bd8.467668","group":"c2acba82.9fc5f8","order":2,"width":0,"height":0,"name":"UI_country","label":"Country","format":"{{msg.payload[0].name}}","layout":"row-spread","x":591,"y":2590,"wires":[]},{"id":"57d01a30.3b7f54","type":"ui_form","z":"82f46bd8.467668","name":"UI_capital","label":"","group":"c2acba82.9fc5f8","order":1,"width":0,"height":0,"options":[{"label":"Capital","value":"capital","type":"text","required":true,"rows":null}],"formValue":{"capital":""},"payload":"","submit":"submit","cancel":"cancel","topic":"topic","topicType":"msg","splitLayout":"","x":361,"y":2590,"wires":[["5b92ffa1.8cabd"]]},{"id":"309e0077.b7a8e","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":782,"y":2489,"wires":[]},{"id":"c2acba82.9fc5f8","type":"ui_group","name":"Country data","tab":"de7b5a03.92383","order":1,"disp":true,"width":"6","collapse":false},{"id":"de7b5a03.92383","type":"ui_tab","name":"HTTP REST data","icon":"dashboard","disabled":false,"hidden":false}]
```

#### Guage and Chart nodes

- This flows explains real-time monitoring of data from a single DHT sensor on a Webpage using Node-RED.

 ![image](https://user-images.githubusercontent.com/56851781/128055756-649caf15-2732-4cbe-a654-4cfec6eeba13.png)
  
 ![image](https://user-images.githubusercontent.com/56851781/122779792-3a404400-d27c-11eb-88b5-8427b24df7ea.png)
  
- If you want to get real time data every 1 second, change like this:

  ![image](https://user-images.githubusercontent.com/56851781/122779945-5c39c680-d27c-11eb-8a28-860ff4fc4b6d.png)
 
- You can see on the debug node for example, `{"_msgid":"63bb3921.ad62e8","topic":"rpi-dht22","payload":"28.00","humidity":"81.00","isValid":true,"errors":0,"location":"DHT","sensorid":"dht11"}`, which means that need to change "payload" to "msg.payload = msg.payload and return msg;" in the temp function nodes as shown like this:

![image](https://user-images.githubusercontent.com/56851781/122780611-fef24500-d27c-11eb-8cc3-712e4d2b1e75.png)
  
- You also able to check the output on terminal as well as the debug sidebar.

![image](https://user-images.githubusercontent.com/56851781/122780019-6f4c9680-d27c-11eb-99d9-b45d86bb5adb.png)
![image](https://user-images.githubusercontent.com/56851781/122780452-d9fdd200-d27c-11eb-8664-b6f74379acb1.png)

- Example flows

```
[{"id":"746da40f.07309c","type":"inject","z":"82f46bd8.467668","name":"Inject Setting","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"payload","payloadType":"flow","x":115,"y":2793,"wires":[["9842ca5c.3705a8"]]},{"id":"9c478f26.e226d","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":765,"y":2793,"wires":[]},{"id":"43d8f1b.bd7091","type":"debug","z":"82f46bd8.467668","name":"String_payload (default)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"tem_payload","targetType":"msg","statusVal":"","statusType":"auto","x":772,"y":2893,"wires":[]},{"id":"f2a51ca9.11b37","type":"debug","z":"82f46bd8.467668","name":"String_payload (default)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"hum_payload","targetType":"msg","statusVal":"","statusType":"auto","x":771,"y":3053,"wires":[]},{"id":"1d86e8f9.7781c7","type":"function","z":"82f46bd8.467668","name":"temperature","func":"msg.tem_payload = msg.payload\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":295,"y":2893,"wires":[["f40dcaac.7e3488","ec23d2ac.01e18","43d8f1b.bd7091"]]},{"id":"f4ac0ef4.93175","type":"function","z":"82f46bd8.467668","name":"humidity","func":"msg.hum_payload = msg.humidity\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":285,"y":3053,"wires":[["f2a51ca9.11b37","de50e12c.28248","b670e22d.4be67"]]},{"id":"f40dcaac.7e3488","type":"ui_gauge","z":"82f46bd8.467668","name":"","group":"c214bc2e.8e81c","order":1,"width":0,"height":0,"gtype":"gage","title":"Temperature","label":"'C","format":"{{value}}","min":0,"max":"50","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":732,"y":2943,"wires":[]},{"id":"de50e12c.28248","type":"ui_gauge","z":"82f46bd8.467668","name":"","group":"c214bc2e.8e81c","order":5,"width":0,"height":0,"gtype":"gage","title":"Humidity","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":720,"y":3100,"wires":[]},{"id":"b670e22d.4be67","type":"ui_chart","z":"82f46bd8.467668","name":"","group":"c214bc2e.8e81c","order":6,"width":0,"height":0,"label":"chart","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"useDifferentColor":false,"x":710,"y":3148,"wires":[[]]},{"id":"ec23d2ac.01e18","type":"ui_chart","z":"82f46bd8.467668","name":"","group":"c214bc2e.8e81c","order":2,"width":0,"height":0,"label":"chart","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"useDifferentColor":false,"x":711,"y":2991,"wires":[[]]},{"id":"10706f8d.03b23","type":"comment","z":"82f46bd8.467668","name":"DHT data from RPI","info":"- This flow shows two values (temperature and humidity) from DHT sensor attached Raspberry Pi in real time.\n- If it is not connected to RPi, \"TypeError: failed to initialize\" returns.\n- In the temperature function, it is required to change: msg.tem_payload = msg.payload","x":110,"y":2740,"wires":[]},{"id":"9842ca5c.3705a8","type":"rpi-dht22","z":"82f46bd8.467668","name":"DHT sensor ","topic":"rpi-dht22","dht":"11","pintype":"0","pin":"2","x":375,"y":2793,"wires":[["1d86e8f9.7781c7","f4ac0ef4.93175","9c478f26.e226d"]]},{"id":"c214bc2e.8e81c","type":"ui_group","name":"DHT Data From RPI","tab":"47cda512.0ceddc","order":1,"disp":true,"width":"6","collapse":false},{"id":"47cda512.0ceddc","type":"ui_tab","name":"DHT Data from RPI","icon":"wi-wu-sunny","order":5,"disabled":false,"hidden":false}]
```


#### Dropdown and Button nodes
##### Dropdown

- In the dropdown node, multiple value & label pairs can be added as required. If the label is not specified the value will be used for both.
- The configured value of the selected item will be returned as msg.payload.
- Setting msg.payload to one of the item values will preset the choice in the dropdown. If using the multi-select option then the payload should be an array of values.
- Optionally the Topic field can be used to set the msg.topic property.
- The Options may be configured by inputting msg.options containing an array. If just text then the value will be the same as the label, otherwise you can specify both by using an object of "label":"value" pairs : `[ "Choice 1", "Choice 2", {"Choice 3":"3"} ]`
- If the "Allow multiple selections" output option is enabled - the result will be returned as an array instead of a string.

##### Button

- Clicking the button generates a message with msg.payload set to the Payload field. If no payload is specified, the node id is used.
- The Icon can be defined, as either a Material Design icon (e.g. 'check', 'close') or a Font Awesome icon (e.g. 'fa-fire'), or a Weather icon. You can use the full set of google material icons if you add 'mi-' to the icon name. e.g. 'mi-videogame_asset'.
- The label and icon can also be set by a message property by setting the field to the name of the property, for example {{topic}} or {{myicon}}.
- If set to pass through mode a message arriving on the input will act like pressing the button. The output payload will be as defined in the node configuration.
- The incoming topic field can be used to set the msg.topic property that is output.
- Setting msg.enabled to false will disable the button.

![image](https://user-images.githubusercontent.com/56851781/128055255-15e10d07-5b2b-4397-be5b-98e5dfd506c8.png)

- Single selection example flows

```
[{"id":"e986c578.7ccc08","type":"ui_dropdown","z":"82f46bd8.467668","name":"","label":"","tooltip":"","place":"Select option","group":"f4ddc713.cb9a58","order":1,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"","value":"apple","type":"str"},{"label":"","value":"orange","type":"str"},{"label":"","value":"banana","type":"str"},{"label":"","value":"watermelon","type":"str"}],"payload":"","topic":"","topicType":"str","x":484,"y":3317,"wires":[["f3522552.befbb8","bf503de9.ecd1e"]]},{"id":"89fe3cd7.b8d13","type":"inject","z":"82f46bd8.467668","name":"Inject","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":94,"y":3317,"wires":[["3a76ecb4.e1d314"]]},{"id":"3a76ecb4.e1d314","type":"change","z":"82f46bd8.467668","name":"","rules":[{"t":"set","p":"options","pt":"msg","to":"[\"name1\", \"name2\",\"name3\",\"name4\"]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":304,"y":3317,"wires":[["e986c578.7ccc08"]]},{"id":"f3522552.befbb8","type":"ui_button","z":"82f46bd8.467668","name":"","group":"f4ddc713.cb9a58","order":2,"width":0,"height":0,"passthru":false,"label":"button","tooltip":"","color":"","bgcolor":"","icon":"","payload":"Thank you!","payloadType":"str","topic":"topic","topicType":"msg","x":694,"y":3317,"wires":[["7708abae.0d2fb4"]]},{"id":"bf503de9.ecd1e","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":744,"y":3357,"wires":[]},{"id":"7708abae.0d2fb4","type":"ui_toast","z":"82f46bd8.467668","position":"top right","displayTime":"3","highlight":"black","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"Successfully Deployed (single choice)","name":"","x":944,"y":3317,"wires":[]},{"id":"3dced245.cc20be","type":"comment","z":"82f46bd8.467668","name":"Dropdown node (single choice)","info":"Dropdown Node:\n\n- Multiple value / label pairs can be added as required. If the label is not specified the value will be used for both.\n- The configured value of the selected item will be returned as msg.payload.\n-Setting msg.payload to one of the item values will preset the choice in the dropdown. If using the multi-select option then the payload should be an array of values.\n- Optionally the Topic field can be used to set the msg.topic property.\n- The Options may be configured by inputting msg.options containing an array. If just text then the value will be the same as the label, otherwise you can specify both by using an object of \"label\":\"value\" pairs : [ \"Choice 1\", \"Choice 2\", {\"Choice 3\":\"3\"} ]\n- If the \"Allow multiple selections\" output option is enabled - the result will be returned as an array instead of a string.\n\nButton Node:\n- Clicking the button generates a message with msg.payload set to the Payload field. If no payload is specified, the node id is used.\n- The Size defaults to 3 by 1.\n- The Icon can be defined, as either a Material Design icon (e.g. 'check', 'close') or a Font Awesome icon (e.g. 'fa-fire'), or a Weather icon. You can use the full set of google material icons if you add 'mi-' to the icon name. e.g. 'mi-videogame_asset'.\n- The colours of the text and background may be set. They can also be set by a message property by setting the field to the name of the property, for example {{background}}. You don't need to prepend the msg. part of the property name.\n- The label and icon can also be set by a message property by setting the field to the name of the property, for example {{topic}} or {{myicon}}.\n- If set to pass through mode a message arriving on the input will act like pressing the button. The output payload will be as defined in the node configuration.\n- The incoming topic field can be used to set the msg.topic property that is output.\n- Setting msg.enabled to false will disable the button.","x":151,"y":3272,"wires":[]},{"id":"f4ddc713.cb9a58","type":"ui_group","name":"Basic UI","tab":"a8a4ad86.b9dd4","order":1,"disp":true,"width":"6","collapse":false},{"id":"a8a4ad86.b9dd4","type":"ui_tab","name":"Basic UI","icon":"dashboard","disabled":false,"hidden":false}]
```


- Multiple selection example flows

```
[{"id":"556f4546.273c4c","type":"ui_dropdown","z":"82f46bd8.467668","name":"","label":"","tooltip":"","place":"Select option","group":"f4ddc713.cb9a58","order":3,"width":0,"height":0,"passthru":true,"multiple":true,"options":[{"label":"","value":"apple","type":"str"},{"label":"","value":"orange","type":"str"},{"label":"","value":"banana","type":"str"},{"label":"","value":"watermelon","type":"str"}],"payload":"","topic":"","topicType":"str","x":480,"y":3500,"wires":[["c48ac5e6.296c58","175116b2.e63bc9"]]},{"id":"bd5917ae.fdd068","type":"inject","z":"82f46bd8.467668","name":"Inject","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":90,"y":3500,"wires":[["8b2532c6.9b03"]]},{"id":"8b2532c6.9b03","type":"change","z":"82f46bd8.467668","name":"","rules":[{"t":"set","p":"options","pt":"msg","to":"[\"name1\", \"name2\",\"name3\",\"name4\"]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":300,"y":3500,"wires":[["556f4546.273c4c"]]},{"id":"c48ac5e6.296c58","type":"ui_button","z":"82f46bd8.467668","name":"","group":"f4ddc713.cb9a58","order":4,"width":0,"height":0,"passthru":false,"label":"button","tooltip":"","color":"","bgcolor":"","icon":"","payload":"Thank you!","payloadType":"str","topic":"topic","topicType":"msg","x":690,"y":3500,"wires":[["9749ca89.8d9698"]]},{"id":"175116b2.e63bc9","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":740,"y":3540,"wires":[]},{"id":"9749ca89.8d9698","type":"ui_toast","z":"82f46bd8.467668","position":"top right","displayTime":"3","highlight":"black","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"Successfully Deployed (multiple choice)","name":"","x":940,"y":3500,"wires":[]},{"id":"286a1751.bcac68","type":"comment","z":"82f46bd8.467668","name":"Dropdown node (multiple choice)","info":"- Multiple value / label pairs can be added as required. If the label is not specified the value will be used for both.\n- The configured value of the selected item will be returned as msg.payload.\n-Setting msg.payload to one of the item values will preset the choice in the dropdown. If using the multi-select option then the payload should be an array of values.\n- Optionally the Topic field can be used to set the msg.topic property.\n- The Options may be configured by inputting msg.options containing an array. If just text then the value will be the same as the label, otherwise you can specify both by using an object of \"label\":\"value\" pairs : [ \"Choice 1\", \"Choice 2\", {\"Choice 3\":\"3\"} ]\n- If the \"Allow multiple selections\" output option is enabled - the result will be returned as an array instead of a string.\n\nButton Node:\n- Clicking the button generates a message with msg.payload set to the Payload field. If no payload is specified, the node id is used.\n- The Size defaults to 3 by 1.\n- The Icon can be defined, as either a Material Design icon (e.g. 'check', 'close') or a Font Awesome icon (e.g. 'fa-fire'), or a Weather icon. You can use the full set of google material icons if you add 'mi-' to the icon name. e.g. 'mi-videogame_asset'.\n- The colours of the text and background may be set. They can also be set by a message property by setting the field to the name of the property, for example {{background}}. You don't need to prepend the msg. part of the property name.\n- The label and icon can also be set by a message property by setting the field to the name of the property, for example {{topic}} or {{myicon}}.\n- If set to pass through mode a message arriving on the input will act like pressing the button. The output payload will be as defined in the node configuration.\n- The incoming topic field can be used to set the msg.topic property that is output.\n- Setting msg.enabled to false will disable the button.","x":147,"y":3455,"wires":[]},{"id":"f4ddc713.cb9a58","type":"ui_group","name":"Basic UI","tab":"a8a4ad86.b9dd4","order":1,"disp":true,"width":"6","collapse":false},{"id":"a8a4ad86.b9dd4","type":"ui_tab","name":"Basic UI","icon":"dashboard","disabled":false,"hidden":false}]
```


#### Slack & Email & UI Notification node
- 
- example flows

```
[{"id":"4b8f1d79.27e954","type":"inject","z":"82f46bd8.467668","name":"temp 10","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"10","payloadType":"str","x":112,"y":1990,"wires":[["23e2ef5.8a1771"]]},{"id":"db7b3e57.e3613","type":"inject","z":"82f46bd8.467668","name":"temp 20","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"20","payloadType":"str","x":112,"y":2030,"wires":[["23e2ef5.8a1771"]]},{"id":"a3030668.4bd6f8","type":"inject","z":"82f46bd8.467668","name":"temp 30","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"30","payloadType":"str","x":113,"y":2069,"wires":[["23e2ef5.8a1771"]]},{"id":"23e2ef5.8a1771","type":"function","z":"82f46bd8.467668","name":"Trigger Alarm","func":"var payload = msg.payload;\nvar alarm = context.get(\"alarm\");\nif (typeof alarm == \"undefined\")\n    alarm = false;\n    \nif (payload > 20 && !alarm)\n{\n    alarm = true;\n    msg.alarm = 1;\n    context.set(\"alarm\", alarm);\n    return msg;\n}\n\nif (payload == 20 && alarm)\n{\n    alarm = false;\n    msg.alarm = 0;\n    context.set(\"alarm\", alarm);\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":353,"y":2030,"wires":[["8963954.4dec768","1eaec228.eef2ee"]]},{"id":"8963954.4dec768","type":"debug","z":"82f46bd8.467668","name":"Object_complete msg","active":true,"tosidebar":true,"console":true,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":793,"y":2030,"wires":[]},{"id":"1eaec228.eef2ee","type":"function","z":"82f46bd8.467668","name":"","func":"var temp = msg.payload;\nmsg.to = \"waylove9393@gmail.com\";\nmsg.from = \"noreply@gmail.com\";\n\nvar date = new Date();\nvar message =\"\";\nif(msg.alarm)\n{\n    msg.topic = \"High Temperature Alarm. Warning!\";\n    message = \" Temp = \";\n}\n\nelse\n\n{\n   msg.topic = \"Normal Temperature.\";\n    message = \" Temp = \";\n}\n\nmsg.payload = \"time:\" + date + message + msg.payload;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":543,"y":2110,"wires":[["8963954.4dec768","9e2c72ad.8bbe6","57a4183f.e53a38","36c7c7ff.68cba8"]]},{"id":"d6162180.878da","type":"comment","z":"82f46bd8.467668","name":"Slack & Email & UI Notification","info":"Slack node:\n- In order to use module to interact with the Slack API, slack nodes must be installed.\n- Slack webhook is required as well (on Slack channel)\n\nEmail node:\n- If you are accessing GMail you may need to either enable an application password, or enable less secure access via your Google account settings.\n\nUI notificatio node:\n- It shows msg.payload as a popup notification or OK / Cancel dialog message on the user interface of Node-RED.","x":157,"y":1944,"wires":[]},{"id":"9e2c72ad.8bbe6","type":"slack","z":"82f46bd8.467668","name":"Minji","channelURL":"https://hooks.slack.com/services/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","username":"Minji","emojiIcon":"","channel":"","x":733,"y":2190,"wires":[]},{"id":"57a4183f.e53a38","type":"e-mail","z":"82f46bd8.467668","server":"smtp.gmail.com","port":"465","secure":true,"tls":false,"name":"waylove9393@gmail.com","dname":"","x":793,"y":2250,"wires":[]},{"id":"36c7c7ff.68cba8","type":"ui_toast","z":"82f46bd8.467668","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"UI_notification","x":762,"y":2310,"wires":[]},{"id":"5616ae6f.946b7","type":"comment","z":"82f46bd8.467668","name":"Slack Notification","info":"","x":999,"y":2190,"wires":[]},{"id":"8c2dffda.6d1e6","type":"comment","z":"82f46bd8.467668","name":"Email Notification","info":"","x":999,"y":2250,"wires":[]},{"id":"c06c0634.ee0968","type":"comment","z":"82f46bd8.467668","name":"Node-RED UI Notification","info":"","x":1029,"y":2310,"wires":[]}]`
```
